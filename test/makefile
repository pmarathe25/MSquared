# Automatically generated by msquared.MGen on 2018-05-17 19:26:35.514119.
# DO NOT MODIFY.

.PHONY: clean test lib

build/source1.o: src/source1.cpp include/header1.hpp include/nestedHeader.hpp
	g++ -fPIC -c -O3 -flto -march=native -std=c++17 src/source1.cpp -o build/source1.o -Iinclude

build/source2.o: src/source2.cpp include/header2.hpp include/nestedHeader.hpp
	g++ -fPIC -c -O3 -flto -march=native -std=c++17 src/source2.cpp -o build/source2.o -Iinclude

build/test.o: test/test.cpp include/header1.hpp include/header2.hpp include/nestedHeader.hpp
	g++ -fPIC -c -O3 -flto -march=native -std=c++17 test/test.cpp -o build/test.o -Iinclude

lib/libtest.so: build/source1.o build/source2.o
	g++ -shared -O3 -flto -march=native build/source1.o build/source2.o -o lib/libtest.so 

test/test: build/test.o lib/libtest.so
	g++ -O3 -flto -march=native build/test.o lib/libtest.so -o test/test -lpthread

clean:
	rm -rf build/* lib/libtest.so test/test

test: test/test
	test/test

lib: lib/libtest.so
	

