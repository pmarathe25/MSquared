# Automatically generated by msquared.MGen on 2018-05-20 12:39:39.699219.
# DO NOT MODIFY.

.PHONY: clean test lib install uninstall

build/source1.o: src/source1.cpp include/nestedHeader.hpp include/header1.hpp
	g++ -fPIC -c -O3 -flto -march=native -std=c++17 src/source1.cpp -o build/source1.o -Iinclude

build/source2.o: src/source2.cpp include/header2.hpp include/nestedHeader.hpp
	g++ -fPIC -c -O3 -flto -march=native -std=c++17 src/source2.cpp -o build/source2.o -Iinclude

build/test.o: test/test.cpp include/header2.hpp include/nestedHeader.hpp include/header1.hpp
	g++ -fPIC -c -O3 -flto -march=native -std=c++17 test/test.cpp -o build/test.o -Iinclude

lib/libtest.so: build/source2.o build/source1.o
	g++ -shared -O3 -flto -march=native build/source2.o build/source1.o -o lib/libtest.so 

test/test: build/test.o lib/libtest.so
	g++ -O3 -flto -march=native build/test.o lib/libtest.so -o test/test -lpthread

clean:
	rm -rf /home/pranav/Python/MSquared/test/lib/libtest.so /home/pranav/Python/MSquared/test/test/test build/source1.o build/source2.o build/test.o

test: test/test
	test/test

lib: lib/libtest.so
	

install: 
	sudo mkdir -p /usr/local/include/MSquaredTest
	sudo touch /usr/local/include/MSquaredTest/msquared.hpp
	sudo printf '#include "/home/pranav/Python/MSquared/test/include/header1.hpp"\n#include "/home/pranav/Python/MSquared/test/include/header2.hpp"\n#include "/home/pranav/Python/MSquared/test/include/nestedHeader.hpp"' > /usr/local/include/MSquaredTest/msquared.hpp

uninstall: 
	sudo rm -rf /usr/local/include/MSquaredTest/msquared.hpp
	sudo rmdir /usr/local/include/MSquaredTest

